{"version":3,"sources":["webpack:///path---blog-2017-07-29-misc-acdddd996761b6c9c819.js","webpack:///./.cache/json/blog-2017-07-29-misc.json"],"names":["webpackJsonp","684","module","exports","data","site","siteMetadata","disqus","post","html","excerpt","timeToRead","fields","slug","frontmatter","tags","author","id","bio","twitter","avatar","children","__typename","responsiveResolution","src","srcSet","title","updatedDate","image","recents","edges","node","pathContext"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,cAAgBC,OAAA,aAAqBC,MAASC,KAAA,2vSAAi2EC,QAAA,2IAAAC,WAAA,EAAAC,QAAu5OC,KAAA,2BAAiCC,aAAgBC,MAAA,uBAAAC,QAAyCC,GAAA,gBAAAC,IAAA,QAAAC,QAAA,mBAAAC,QAA0EC,WAAaC,WAAA,aAAAC,sBAAkDC,IAAA,4DAAAC,OAAA,mQAA6UC,MAAA,OAAAC,YAAA,eAAAC,OAAsDP,WAAaC,WAAA,aAAAC,sBAAkDC,IAAA,gGAAAC,OAAA,oZAAkgBI,SAAYC,QAAUC,MAAQnB,QAAUC,KAAA,wCAA8CF,WAAA,EAAAG,aAA+BY,MAAA,6CAAAC,YAAA,aAAAC,OAAyFP,WAAaC,WAAA,aAAAC,sBAAkDC,IAAA,kEAAAC,OAAA,0RAA0WT,QAAWI,QAAUC,WAAaC,WAAA,aAAAC,sBAAkDC,IAAA,4DAAAC,OAAA,yQAAmVO,aAAgBnB,KAAA","file":"path---blog-2017-07-29-misc-acdddd996761b6c9c819.js","sourcesContent":["webpackJsonp([181305169795752],{\n\n/***/ 684:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"disqus\":\"sorayama\"}},\"post\":{\"html\":\"<blockquote>\\n<p>目前这篇 post 先用来记录杂七杂八好了，计划是一段时间整理一次（咕咕咕预定</p>\\n</blockquote>\\n<h3 id=\\\"how-to-scp-data-to-owncloud-dir\\\"><a href=\\\"#how-to-scp-data-to-owncloud-dir\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>How to SCP data to ownCloud dir</h3>\\n<p><a href=\\\"https://askubuntu.com/questions/779969/how-to-scp-data-to-owncloud\\\">click here</a></p>\\n<p>This question relative to \\\"How to copy/move files to ownClowd data dir on server side\\\". I tried to run</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">mv</span> PATH/TO/TARGET /home/wwwroot/default/owncloud/data/sorayama/</code></pre>\\n      </div>\\n<p>files moved correctly, but there's nothing in client side. So I searched for it and finally found the key action is to run</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> -u www php /home/wwwroot/default/owncloud/occ</code></pre>\\n      </div>\\n<p>in the next step</p>\\n<h3 id=\\\"whether-in-terminal\\\"><a href=\\\"#whether-in-terminal\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Whether in terminal</h3>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">curl</span> wttr.in /~<span class=\\\"token operator\\\">&lt;</span>PLACE<span class=\\\"token operator\\\">></span></code></pre>\\n      </div>\\n<h3 id=\\\"搭建私人-git-仓库\\\"><a href=\\\"#%E6%90%AD%E5%BB%BA%E7%A7%81%E4%BA%BA-git-%E4%BB%93%E5%BA%93\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>搭建私人 git 仓库</h3>\\n<blockquote>\\n<p>假设已经有sudo权限的用户账号，下面，正式开始安装。</p>\\n</blockquote>\\n<h4 id=\\\"第一步，安装git：\\\"><a href=\\\"#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%8C%E5%AE%89%E8%A3%85git%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第一步，安装git：</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> <span class=\\\"token function\\\">apt-get</span> <span class=\\\"token function\\\">install</span> <span class=\\\"token function\\\">git</span></code></pre>\\n      </div>\\n<h4 id=\\\"第二步，创建一个git用户，用来运行git服务：\\\"><a href=\\\"#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%8C%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAgit%E7%94%A8%E6%88%B7%EF%BC%8C%E7%94%A8%E6%9D%A5%E8%BF%90%E8%A1%8Cgit%E6%9C%8D%E5%8A%A1%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第二步，创建一个git用户，用来运行git服务：</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> adduser <span class=\\\"token function\\\">git</span></code></pre>\\n      </div>\\n<h4 id=\\\"第三步，创建证书登录：\\\"><a href=\\\"#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%8C%E5%88%9B%E5%BB%BA%E8%AF%81%E4%B9%A6%E7%99%BB%E5%BD%95%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第三步，创建证书登录：</h4>\\n<p>收集所有需要登录的用户的公钥，就是他们自己的 <code class=\\\"language-text\\\">id_rsa.pub</code> 文件，把所有公钥导入到 <code class=\\\"language-text\\\">/home/git/.ssh/authorized_keys</code> 文件里，一行一个。</p>\\n<h4 id=\\\"第四步，初始化git仓库：\\\"><a href=\\\"#%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96git%E4%BB%93%E5%BA%93%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第四步，初始化Git仓库：</h4>\\n<p>先选定一个目录作为Git仓库，假定是 <code class=\\\"language-text\\\">/srv/sample.git</code>，在 <code class=\\\"language-text\\\">/srv</code> 目录下输入命令：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> <span class=\\\"token function\\\">git</span> init --bare sample.git</code></pre>\\n      </div>\\n<p>Git就会创建一个裸仓库，裸仓库没有工作区，因为服务器上的Git仓库纯粹是为了共享，所以不让用户直接登录到服务器上去改工作区，并且服务器上的Git仓库通常都以.git结尾。然后，把owner改为git：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> <span class=\\\"token function\\\">chown</span> -R git:git sample.git</code></pre>\\n      </div>\\n<h4 id=\\\"第五步，禁用shell登录：\\\"><a href=\\\"#%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%8C%E7%A6%81%E7%94%A8shell%E7%99%BB%E5%BD%95%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第五步，禁用shell登录：</h4>\\n<p>出于安全考虑，第二步创建的 git 用户不允许登录 shell ，这可以通过编辑 <code class=\\\"language-text\\\">/etc/passwd</code> 文件完成。找到类似下面的一行：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">git:x:1001:1001:,,,:/home/git:/bin/bash</code></pre>\\n      </div>\\n<p>改为：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">git:x:1001:1001:,,,:/home/git:/usr/bin/git-shell</code></pre>\\n      </div>\\n<p>这样，git 用户可以正常通过 ssh 使用 git，但无法登录 shell，因为我们为 git 用户指定的 git-shell 每次一登录就自动退出。</p>\\n<h4 id=\\\"第六步，克隆远程仓库：\\\"><a href=\\\"#%E7%AC%AC%E5%85%AD%E6%AD%A5%EF%BC%8C%E5%85%8B%E9%9A%86%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第六步，克隆远程仓库：</h4>\\n<p>现在，可以通过 <code class=\\\"language-text\\\">git clone</code> 命令克隆远程仓库了，在各自的电脑上运行：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">git</span> clone git@server:/srv/sample.git\\nCloning into <span class=\\\"token string\\\">'sample'</span><span class=\\\"token punctuation\\\">..</span>.\\nwarning: You appear to have cloned an empty repository.</code></pre>\\n      </div>\",\"excerpt\":\"目前这篇 post 先用来记录杂七杂八好了，计划是一段时间整理一次（咕咕咕预定 How to SCP data to ownCloud dir click here This question relative to \\\"How to copy/move files to…\",\"timeToRead\":3,\"fields\":{\"slug\":\"/blog/2017-07-29--misc/\"},\"frontmatter\":{\"tags\":[\"2018-07\",\"Misc\",\"技术\"],\"author\":{\"id\":\"SoraYama - 空山\",\"bio\":\"折腾点前端\",\"twitter\":\"@ClassicSilence1\",\"avatar\":{\"children\":[{\"__typename\":\"ImageSharp\",\"responsiveResolution\":{\"src\":\"/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-0294e.jpg\",\"srcSet\":\"/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-0294e.jpg 1x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-f0f16.jpg 1.5x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-6c605.jpg 2x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-031f1.jpg 3x\"}}]}},\"title\":\"Misc\",\"updatedDate\":\"Jul 29, 2018\",\"image\":{\"children\":[{\"__typename\":\"ImageSharp\",\"responsiveResolution\":{\"src\":\"/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-53e6a.jpeg\",\"srcSet\":\"/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-53e6a.jpeg 1x,\\n/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-8127e.jpeg 1.5x,\\n/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-d2c77.jpeg 2x,\\n/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-07c98.jpeg 3x\"}}]}}},\"recents\":{\"edges\":[{\"node\":{\"fields\":{\"slug\":\"/blog/2018-07-29--Gatsby-and-Travis/\"},\"timeToRead\":3,\"frontmatter\":{\"title\":\"用 gatsby 和 travis-ci 自动化构建和部署 github-pages\",\"updatedDate\":\"2018-07-29\",\"image\":{\"children\":[{\"__typename\":\"ImageSharp\",\"responsiveResolution\":{\"src\":\"/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-1bfe5.jpeg\",\"srcSet\":\"/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-1bfe5.jpeg 1x,\\n/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-60440.jpeg 1.5x,\\n/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-168f5.jpeg 2x,\\n/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-40495.jpeg 3x\"}}]},\"author\":{\"avatar\":{\"children\":[{\"__typename\":\"ImageSharp\",\"responsiveResolution\":{\"src\":\"/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-e9ed2.jpg\",\"srcSet\":\"/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-e9ed2.jpg 1x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-f1b3b.jpg 1.5x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-d2364.jpg 2x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-6f7fc.jpg 3x\"}}]}}}}}]}},\"pathContext\":{\"slug\":\"/blog/2017-07-29--misc/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---blog-2017-07-29-misc-acdddd996761b6c9c819.js","module.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"disqus\":\"sorayama\"}},\"post\":{\"html\":\"<blockquote>\\n<p>目前这篇 post 先用来记录杂七杂八好了，计划是一段时间整理一次（咕咕咕预定</p>\\n</blockquote>\\n<h3 id=\\\"how-to-scp-data-to-owncloud-dir\\\"><a href=\\\"#how-to-scp-data-to-owncloud-dir\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>How to SCP data to ownCloud dir</h3>\\n<p><a href=\\\"https://askubuntu.com/questions/779969/how-to-scp-data-to-owncloud\\\">click here</a></p>\\n<p>This question relative to \\\"How to copy/move files to ownClowd data dir on server side\\\". I tried to run</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">mv</span> PATH/TO/TARGET /home/wwwroot/default/owncloud/data/sorayama/</code></pre>\\n      </div>\\n<p>files moved correctly, but there's nothing in client side. So I searched for it and finally found the key action is to run</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> -u www php /home/wwwroot/default/owncloud/occ</code></pre>\\n      </div>\\n<p>in the next step</p>\\n<h3 id=\\\"whether-in-terminal\\\"><a href=\\\"#whether-in-terminal\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Whether in terminal</h3>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">curl</span> wttr.in /~<span class=\\\"token operator\\\">&lt;</span>PLACE<span class=\\\"token operator\\\">></span></code></pre>\\n      </div>\\n<h3 id=\\\"搭建私人-git-仓库\\\"><a href=\\\"#%E6%90%AD%E5%BB%BA%E7%A7%81%E4%BA%BA-git-%E4%BB%93%E5%BA%93\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>搭建私人 git 仓库</h3>\\n<blockquote>\\n<p>假设已经有sudo权限的用户账号，下面，正式开始安装。</p>\\n</blockquote>\\n<h4 id=\\\"第一步，安装git：\\\"><a href=\\\"#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%8C%E5%AE%89%E8%A3%85git%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第一步，安装git：</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> <span class=\\\"token function\\\">apt-get</span> <span class=\\\"token function\\\">install</span> <span class=\\\"token function\\\">git</span></code></pre>\\n      </div>\\n<h4 id=\\\"第二步，创建一个git用户，用来运行git服务：\\\"><a href=\\\"#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%8C%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAgit%E7%94%A8%E6%88%B7%EF%BC%8C%E7%94%A8%E6%9D%A5%E8%BF%90%E8%A1%8Cgit%E6%9C%8D%E5%8A%A1%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第二步，创建一个git用户，用来运行git服务：</h4>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> adduser <span class=\\\"token function\\\">git</span></code></pre>\\n      </div>\\n<h4 id=\\\"第三步，创建证书登录：\\\"><a href=\\\"#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%8C%E5%88%9B%E5%BB%BA%E8%AF%81%E4%B9%A6%E7%99%BB%E5%BD%95%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第三步，创建证书登录：</h4>\\n<p>收集所有需要登录的用户的公钥，就是他们自己的 <code class=\\\"language-text\\\">id_rsa.pub</code> 文件，把所有公钥导入到 <code class=\\\"language-text\\\">/home/git/.ssh/authorized_keys</code> 文件里，一行一个。</p>\\n<h4 id=\\\"第四步，初始化git仓库：\\\"><a href=\\\"#%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96git%E4%BB%93%E5%BA%93%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第四步，初始化Git仓库：</h4>\\n<p>先选定一个目录作为Git仓库，假定是 <code class=\\\"language-text\\\">/srv/sample.git</code>，在 <code class=\\\"language-text\\\">/srv</code> 目录下输入命令：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> <span class=\\\"token function\\\">git</span> init --bare sample.git</code></pre>\\n      </div>\\n<p>Git就会创建一个裸仓库，裸仓库没有工作区，因为服务器上的Git仓库纯粹是为了共享，所以不让用户直接登录到服务器上去改工作区，并且服务器上的Git仓库通常都以.git结尾。然后，把owner改为git：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">sudo</span> <span class=\\\"token function\\\">chown</span> -R git:git sample.git</code></pre>\\n      </div>\\n<h4 id=\\\"第五步，禁用shell登录：\\\"><a href=\\\"#%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%8C%E7%A6%81%E7%94%A8shell%E7%99%BB%E5%BD%95%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第五步，禁用shell登录：</h4>\\n<p>出于安全考虑，第二步创建的 git 用户不允许登录 shell ，这可以通过编辑 <code class=\\\"language-text\\\">/etc/passwd</code> 文件完成。找到类似下面的一行：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">git:x:1001:1001:,,,:/home/git:/bin/bash</code></pre>\\n      </div>\\n<p>改为：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\">\\n      <pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">git:x:1001:1001:,,,:/home/git:/usr/bin/git-shell</code></pre>\\n      </div>\\n<p>这样，git 用户可以正常通过 ssh 使用 git，但无法登录 shell，因为我们为 git 用户指定的 git-shell 每次一登录就自动退出。</p>\\n<h4 id=\\\"第六步，克隆远程仓库：\\\"><a href=\\\"#%E7%AC%AC%E5%85%AD%E6%AD%A5%EF%BC%8C%E5%85%8B%E9%9A%86%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%EF%BC%9A\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>第六步，克隆远程仓库：</h4>\\n<p>现在，可以通过 <code class=\\\"language-text\\\">git clone</code> 命令克隆远程仓库了，在各自的电脑上运行：</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"bash\\\">\\n      <pre class=\\\"language-bash\\\"><code class=\\\"language-bash\\\"><span class=\\\"token function\\\">git</span> clone git@server:/srv/sample.git\\nCloning into <span class=\\\"token string\\\">'sample'</span><span class=\\\"token punctuation\\\">..</span>.\\nwarning: You appear to have cloned an empty repository.</code></pre>\\n      </div>\",\"excerpt\":\"目前这篇 post 先用来记录杂七杂八好了，计划是一段时间整理一次（咕咕咕预定 How to SCP data to ownCloud dir click here This question relative to \\\"How to copy/move files to…\",\"timeToRead\":3,\"fields\":{\"slug\":\"/blog/2017-07-29--misc/\"},\"frontmatter\":{\"tags\":[\"2018-07\",\"Misc\",\"技术\"],\"author\":{\"id\":\"SoraYama - 空山\",\"bio\":\"折腾点前端\",\"twitter\":\"@ClassicSilence1\",\"avatar\":{\"children\":[{\"__typename\":\"ImageSharp\",\"responsiveResolution\":{\"src\":\"/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-0294e.jpg\",\"srcSet\":\"/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-0294e.jpg 1x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-f0f16.jpg 1.5x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-6c605.jpg 2x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-031f1.jpg 3x\"}}]}},\"title\":\"Misc\",\"updatedDate\":\"Jul 29, 2018\",\"image\":{\"children\":[{\"__typename\":\"ImageSharp\",\"responsiveResolution\":{\"src\":\"/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-53e6a.jpeg\",\"srcSet\":\"/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-53e6a.jpeg 1x,\\n/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-8127e.jpeg 1.5x,\\n/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-d2c77.jpeg 2x,\\n/static/cup-of-coffee-laptop-office-macbook-89786-98bc53d2012296d56b37cad2ff328b5a-07c98.jpeg 3x\"}}]}}},\"recents\":{\"edges\":[{\"node\":{\"fields\":{\"slug\":\"/blog/2018-07-29--Gatsby-and-Travis/\"},\"timeToRead\":3,\"frontmatter\":{\"title\":\"用 gatsby 和 travis-ci 自动化构建和部署 github-pages\",\"updatedDate\":\"2018-07-29\",\"image\":{\"children\":[{\"__typename\":\"ImageSharp\",\"responsiveResolution\":{\"src\":\"/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-1bfe5.jpeg\",\"srcSet\":\"/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-1bfe5.jpeg 1x,\\n/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-60440.jpeg 1.5x,\\n/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-168f5.jpeg 2x,\\n/static/gatsby-word-c44bca7fd6ad9ad38985ba07e1a3b252-40495.jpeg 3x\"}}]},\"author\":{\"avatar\":{\"children\":[{\"__typename\":\"ImageSharp\",\"responsiveResolution\":{\"src\":\"/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-e9ed2.jpg\",\"srcSet\":\"/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-e9ed2.jpg 1x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-f1b3b.jpg 1.5x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-d2364.jpg 2x,\\n/static/avatar-d7657fc7ec759cfa220ac058ed0b571a-6f7fc.jpg 3x\"}}]}}}}}]}},\"pathContext\":{\"slug\":\"/blog/2017-07-29--misc/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/blog-2017-07-29-misc.json\n// module id = 684\n// module chunks = 181305169795752"],"sourceRoot":""}